function onScroll(){scrollTop=$window.scrollTop(),scrollTop>headerTop?$header.hasClass("overlay")||$header.addClass("overlay"):scrollTop<=headerTop&&$header.hasClass("overlay")&&$header.removeClass("overlay")}function scrollToSection(e){var i=$(e).offset().top,n=i-40;$scrollElement.stop().animate({scrollTop:n},750,"easeInOutQuad")}function initSiteNavigation(){var e=$(".content-nav li a");e.click(function(e){return scrollToSection(this.hash),e.preventDefault(),!1})}function resizeSite(){windowWidth=$window.width(),windowHeight=$window.height(),checkFixedHeader()}function initMobileHeader(){$("#menu-button").click(function(e){return $header.toggleClass("opened"),$headerMenu.slideToggle(200,function(){$headerMenu.is(":hidden")&&$headerMenu.removeAttr("style")}),e.preventDefault(),!1})}function initFixedHeader(){$fixedHeader=$("#header-fixed"),fixedHeaderHeight=$fixedHeader.height(),siteVars.isMobile||$window.scroll(checkFixedHeader).trigger("scroll")}function checkFixedHeader(){windowWidth>mobileHeaderWidth?(console.log("windowwidth: "+windowWidth),$window.scrollTop()>showFixedHeaderScrollTop?$fixedHeader.is(":hidden")&&$fixedHeader.stop().css({display:"block",opacity:0,top:-fixedHeaderHeight}).animate({opacity:1,top:0},250,"easeOutQuad"):$fixedHeader.is(":visible")&&$fixedHeader.stop().animate({opacity:0,top:-fixedHeaderHeight},250,"easeOutQuad",function(){$fixedHeader.css({display:"none"})})):$fixedHeader.is(":visible")&&$fixedHeader.hide()}function initGrid(){if($postsGrid=$(".grid"),$postsGrid.length>0&&$postsGrid.find(".box").length>0){$postsGrid.isotope({itemSelector:".box",animationEngine:"best-available",transformsEnabled:!1,animationOptions:{duration:250,easing:"linear",queue:!1},masonry:{columnWidth:1}}),$(window).resize(function(){$postsGrid.isotope({itemSelector:".box",animationEngine:"best-available",transformsEnabled:!1,animationOptions:{duration:250,easing:"linear",queue:!1},masonry:{columnWidth:1}})});var e=$(".sort-filters a"),n,t,a,o,d="",r=new Array;e.click(function(){if(n=$(this),t=n.data("filter"),a=n.data("type"),"single"==a)n.parents("ul").find("li.active").removeClass("active").find("a").data("isActive",!1),n.data("isActive",!0).parent().addClass("active"),d="*"!=t?t:"";else if(n.data("isActive")){if(!n.parent("li").hasClass("all")){n.data("isActive",!1).parent().removeClass("active");var e=r.indexOf(t);e>-1&&r.splice(e,1),0==r.length&&n.parents("ul").find("li.all").addClass("active").find("a").data("isActive",!0)}}else n.parent("li").hasClass("all")?(n.parents("ul").find("li.active").removeClass("active").find("a").data("isActive",!1),n.data("isActive",!0).parent().addClass("active"),r=new Array):(n.parents("ul").find("li.all").removeClass("active").find("a").data("isActive",!1),n.data("isActive",!0).parent().addClass("active"),r.push(t));if(o="",r.length>0)for(i=0;i<r.length;i++)""!=o&&(o+=", "),o+=d+r[i];else o=""!=d?d:"*";return $postsGrid.isotope({filter:o}),!1})}}function onLoad(){initGrid()}function initPublicationsAbstract(){$(".publications-list .show-content").click(function(e){console.log("click");var i=$(this),n=i.parents(".publication"),t=n.find(".entry-content");return n.toggleClass("show-content"),t.slideToggle(200),e.preventDefault(),!1})}function mapInRange(e,i,n,t,a){return(a-t)*(e-i)/(n-i)+t}!function($){}(window.jQuery);var $header,$headerMenu,$window,$scrollElement,siteStrings,windowWidth,windowHeight,mobileHeaderWidth=520,headerTop=60,showFixedHeaderScrollTop=100,$fixedHeader;$(document).ready(function(){$window=$(window),$scrollElement=$("html, body").scrollTop(0),$wrapper=$("#wrap"),initFixedHeader(),resizeSite(),siteVars.isMobile?window.addEventListener("onorientationchange"in window?"orientationchange":"resize",resizeSite,!1):$(window).resize(resizeSite),$header=$("header"),$headerMenu=$header.find("#header-menu"),initMobileHeader(),$(window).load(onLoad),initSiteNavigation(),initPublicationsAbstract()}),$.extend($.easing,{def:"easeOutQuad",swing:function(e,i,n,t,a){return $.easing[$.easing.def](e,i,n,t,a)},easeInQuad:function(e,i,n,t,a){return t*(i/=a)*i+n},easeOutQuad:function(e,i,n,t,a){return-t*(i/=a)*(i-2)+n},easeInOutQuad:function(e,i,n,t,a){return(i/=a/2)<1?t/2*i*i+n:-t/2*(--i*(i-2)-1)+n},easeInCubic:function(e,i,n,t,a){return t*(i/=a)*i*i+n},easeOutCubic:function(e,i,n,t,a){return t*((i=i/a-1)*i*i+1)+n},easeInOutCubic:function(e,i,n,t,a){return(i/=a/2)<1?t/2*i*i*i+n:t/2*((i-=2)*i*i+2)+n}});